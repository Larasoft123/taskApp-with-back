---
import { SignIn, SignOut } from "auth-astro/components";
import { getSession } from "auth-astro/server";

const session = await getSession(Astro.request);
---

<section class="flex w-full flex-col justify-center items-center">
  <h1 class="font-semibold text-4xl text-gray-700">Welcome</h1>
  <div class="flex justify-center w-full items- gap-8 p-2">
    {
      session?.user ? (
        <div class="flex flex-col items-center">
          <img
            src={session.user.image}
            alt="user avatar"
            class="w-24 h-24 rounded-full"
          />
          <p class="text-xl font-semibold">{session.user.name}</p>
          <SignOut>Logout</SignOut>
        </div>
      ) : (
        <SignIn provider="goggle">Login</SignIn>
      )
    }
  </div>
</section>
