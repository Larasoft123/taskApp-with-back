---
import Layout from "@/layouts/Layout.astro";
import Container from "@/components/container.astro";

import { CreateTagForm } from "@/components/forms/create-tag-form";
import { getSession } from "auth-astro/server";

const session = await getSession(Astro.request);
const { id } = Astro.params;

if (!session || !session?.user?.id ) {
  throw new Error("Unauthorized access. Please log in.");
}



if (!id) {
  throw new Error("Task ID is required");
}
---

<Layout>
  <Container>
    <CreateTagForm client:visible edit={true} tagId={+id} />
  </Container>
</Layout>
